# Vagrant#section01 : 仮想マシンとは

Vagrantについて説明する前に，仮想マシンについて解説しておきます．  
仮想マシンについて大体分かっている人はここを飛ばして[section02](./Vagrant.md)に進んでください．  
簡単に仮想マシンのことや，役割などを書いておきます．

仮想マシンは，仮想化ソフトウェアによって構築されます．  
仮想化ソフトウェアは，仮想化技術を使って物理的なコンピュータの内部領域を  
分割して，その中で新たに独立して動作するOSを配置します．  

その独立したOSで動作する論理的なコンピュータが仮想マシンです．

つまり，一台の物理マシンの上で何台ものコンピュータを動かすことが出来ます．

## 仮想マシンの役割

仮想マシンを用いることによってどのような利点があるのでしょうか．  

仮想マシンを使うことで，一台の物理サーバの上で独立した複数台のサーバを  
動作させることができます．  
一般的に企業では，Webアプリケーションなどを動作させているときには，  
1台のサーバで1つのアプリケーションを動かすことが多いようです．  
物理マシンだけで１つのアプリケーションごとにサーバを用意していると，  
どんどん管理しなければならない物理サーバが増えてしまいます．

管理コストが増加することも問題ですが，他にも問題点はあります．  

1つの物理マシンの上で1つのアプリケーションだけ動かしている状態で，  
物理マシンの性能をどこまで活用できるでしょうか？  
一般的には，20%程度の性能しか引き出せていなかったと言われています．  
じゃあ，1つの物理マシンで複数のアプリケーションを動かせばいいじゃん  
という話になると思いますが，そうするとどれか一つのアプリケーションが  
大量にアクセスされたりすると，それが物理マシンのリソースを大量に  
使ってしまい，他のアプリケーションが重くなる...などの問題があります．

これらの問題を仮想マシンでは解決できます．  

例えば，物理マシンのリソースを100とします．  
仮想マシンAには20のリソースを，仮想マシンBには20のリソースを...  
といった感じに分割することができます．  
こうすることで，物理マシンの性能を最大限に引き出せる上に，  
各仮想マシンでアプリケーションを動作させても，  
他のアプリケーションの影響を与えないようにすることが出来ます．  
(多少は影響がありますが...)

一般的な仮想マシンの役割はこんな感じです．  

仮想マシンはこんな感じですが，仮想化ソフトウェアには色々な種類があります．  
仮想化ソフトウェアの種類については，[appendix01:仮想化ソフトウェアの種類](./SoftwareType.md)で詳しく説明します．  

## 開発者にとっての仮想マシンの利点

ここまで，アプリケーションの実行環境としての仮想マシンについての話をしました．  
わざわざ研究室の新人研修の初めにする内容では無いのでは...と思ったとのではないでしょうか．

しかし，アプリケーションを開発する上でも仮想マシンは非常に便利です．  
ここからは仮想マシンは仮想環境と呼びましょう．  
仮想環境上で開発をすることで，  
物理マシンの環境を全く汚さずに試行錯誤することができます．

例えば，仮想環境を使わない物理マシンで  
WebアプリケーションAを開発しているとします．  
WebアプリAでは常にポートXを利用していた場合，  
物理マシンにポートXを利用する何かしらのソフトウェアを入れると使えなくなります．  
こういった問題が仮想環境を使っていると発生しません．  
仮想環境上では別のマシンがエミュレートされているようなものなので，  
WebアプリAが使うポートXは物理マシンのポートに影響を与えないので，  
物理マシンですでに利用されているポートと同じ番号を使っても問題ありません．


さて，ここまでは仮想マシンについて述べてきました．  
次はいよいよVagrantについて解説します．

# 参考資料

- [サーバ仮想化について](https://thinkit.co.jp/free/tech/26/1/1.html)
- [5分で解る!!今更人に聞けない仮想マシンとは?](https://boxil.jp/others/a1300)
- [Vagrant体験入門ハンズオンの資料を公開します](http://www.1x1.jp/blog/2014/04/vagrant-handson-in-devlove-kansai.html)

---

次のセクション [section02 : Vagrantとは](./Vagrant.md) へ進む.  
[README](./README.md) に戻る．
